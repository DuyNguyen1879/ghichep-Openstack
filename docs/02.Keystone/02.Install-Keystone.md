# Cài đặt Keystone.


## 1. Tổng quan về Openstack 
- Openstack Identify service cung cấp một điểm tích hợp duy nhất để quản lý xác thực, ủy quyền và service catalog. Openstack Identify service thường là dịch vụ đầu tiên mà người dùng tương tác đến. Khi đã được định danh, người dùng có thể sử dụng danh tính đó để truy cập các dịch vụ khác. Tương tự như vậy, các Openstack service khác cũng có thể dụng Identify service để xác định người dùng là ai và khám phá các dịch vụ khác. Dịch vụ nhận dạng cũng có thể kết hợp với một số hệ thống quản lý người dùng bên ngoài như LDAP.
- Người dùng và dịch vụ có thể  định vị các dịch vụ bằng cách sử dụng service catalog- được quản lý bởi Identify service. Catalog chứa thông tin về danh sách các dịch vụ có sẵn trong triển khai. Một dịch vụ có thể có nhiều endpoint và mỗi endpoint có thể là 1 trong 3 loại sau: admin. internal và public. Trong môi trường production, các endpoint sẽ nằm trên các mạng khác nhau để đảm bảo bảo mật. Ví dụ . public API có thể được tiếp cận từ môi trường internet, khác hàng có thể sử dụng sản phẩn cloud qua API này. Admin API sử dụng cho các sysadmin để quản trị infractructure cloud. Internal API sẽ sử dụng để làm việc với các host được quản lý bởi các Openstack Service.
- Openstack Indentity cung cấp region để tăng khả năng mở rộng. Mặc định RegionOne được sử dụng làm Region đâu tiên
- Mỗi Openstack Service cài lên cần có một endpoint trên indentity service

- Identity service chứa những thành phần:
    - **Server**: Một máy chủ tập trung cung cấp các dịch vụ xác thực và ủy quyền bằng giao diện RESTful interface.
    - **Drivers**: là driver hay service backend được tích hợp vào server dùng để truy cập DB định danh có thể là các dịch vụ internal hoặc external(SQL,LDAP,...)
    - **Modules**: middleware module có thể chạy trên các Openstack compoment đang sử dụng indentity services. Những module này chặn các reques , xuất ra các credential sau đó gửi đến Server .


## 2. Cài đặt repo Openstack Stein trên controller.
- Mô hình triển khai:
![](https://i.imgur.com/DQbHt3W.png)

Trên Controller:
- Cài đặt OpenStack repository:
```
yum install centos-release-openstack-stein -y
```


